"use strict";
(()=>{function h(s,t){let e=0,o;return function(...i){let l=Date.now();e&&l-e<=t&&clearTimeout(o),e=l,o=setTimeout(()=>s(...i),t)}}var B=".js-header",x=".js-burger",j=".js-menu",S=".js-menu__item",T=".js-menu__list",I=".submenu",w="item_left",b="no-scroll",_="menu-active",u="active",D=()=>{let s=document.querySelector(B);s&&new p(s).init()},p=class{constructor(t){this.header=t,this.currentWidth=window.innerWidth,this.burgerEl=document.querySelector(x),this.menuEl=document.querySelector(j),this.menuItems=this.menuEl?.querySelectorAll(S),this.firstLevelMenuItems=this.menuEl?.querySelectorAll(`:scope > ${T} > ${S}`)}init(){this.initBurger(),this.initMenu(),this.updateOrientation(),this.setHeaderHeight(),window.addEventListener("resize",h(()=>{this.handleResize()},100))}handleResize(){this.currentWidth!==window.innerWidth&&(this.currentWidth=window.innerWidth,this.closeMenu(),this.updateOrientation(),this.setHeaderHeight())}initBurger(){this.burgerEl?.addEventListener("click",()=>this.toggleMenu())}initMenu(){this.menuItems?.forEach(t=>{t.querySelector(":scope > a")?.addEventListener("click",o=>{t.classList.contains(u)&&o.preventDefault()}),t.addEventListener("click",o=>{o.stopPropagation(),this.toggleMenuItem(t)})})}toggleMenuItem=t=>{t.classList.contains(u)||this.closeItemsInParentList(t),t.classList.toggle(u)};closeItemsInParentList=t=>{t.closest(T).querySelectorAll(`:scope > ${S}`).forEach(n=>n.classList.remove(u))};toggleMenu(){this.header.classList.contains(_)?this.closeMenu():this.openMenu()}closeMenu(){this.header?.classList.remove(_),document.body.classList.remove(b),this.menuItems?.forEach(t=>t.classList.remove(u))}openMenu(){this.header?.classList.add(_),document.body.classList.add(b)}setHeaderHeight(){let t=this.header.getBoundingClientRect().height;this.header.style.setProperty("--header-height",`${t}px`)}updateOrientation(){this.firstLevelMenuItems?.forEach(t=>{t.classList.remove(w);let e=t.querySelectorAll(`:scope > ${I}`),o=Array.from(e).reduce((n,i)=>{i.style.display="block";let l=i.getBoundingClientRect().width,c=i.querySelectorAll(I),a=0;return c.forEach(r=>{r.style.display="block",a=Math.max(a,r.getBoundingClientRect().width),r.removeAttribute("style")}),i.removeAttribute("style"),n+l+a},0);window.innerWidth-t.getBoundingClientRect().left-80<o&&t.classList.add(w)})}};D();var F=".js-scroll-list",N="scroll-end",v="scrolling",V=()=>{document.querySelectorAll(F).forEach(t=>new g(t))},g=class{constructor(t){this.scrollContainer=t,this.scrollSpeed=1,this.horizontalScrollInit()}horizontalScrollInit(){let t=this.scrollContainer;if(t){let e=!1,o,n;this.checkScrollEnd(t),t.addEventListener("mousedown",i=>{e=!0,document.body.style.cursor="grabbing",o=i.pageX-t.offsetLeft,n=t.scrollLeft}),t.addEventListener("mousemove",i=>{if(!e)return;i.preventDefault();let c=(i.pageX-t.offsetLeft-o)*this.scrollSpeed;t.scrollLeft=n-c,this.checkScrollEnd(t),t.parentNode.classList.add(v)}),t.addEventListener("mouseup",()=>{e=!1,document.body.style.cursor="default",t.parentNode.classList.remove(v)}),t.addEventListener("mouseleave",()=>{e=!1,document.body.style.cursor="default",t.parentNode.classList.remove(v)}),t.addEventListener("wheel",i=>{let l=i.deltaY>0,c=!l&&t.scrollLeft==0,a=l&&t.scrollLeft>=t.scrollWidth-t.clientWidth;c||a||t.scrollWidth>t.clientWidth&&(i.preventDefault(),t.scrollLeft+=i.deltaY)}),t.addEventListener("scroll",i=>{t.scrollWidth>t.clientWidth&&this.checkScrollEnd(t)})}return this}checkScrollEnd=(t,e=10)=>{t.scrollLeft+t.clientWidth>=t.scrollWidth-e?t.parentNode.classList.add(N):t.parentNode.classList.remove(N)}};V();var H=".js-form",U=".js-form__response",L=".js-form__label",z=".js-form__label-error",q="has-value",m="has-error",E={email:"Enter a valid value",common:"Enter a valid value",form:"Error"},G=()=>{document.querySelectorAll(H).forEach(t=>new C(t))},C=class{constructor(t){this.form=t,this.inputsList=this.form.querySelectorAll("input, textarea"),this.responseEl=this.form.querySelector(U),this.init()}init=()=>{this.initValidation()};initValidation=()=>{this.inputsList.forEach(t=>{t.addEventListener("input",()=>{this.validInput(t)})}),this.form.addEventListener("submit",t=>{this.validForm()||t.preventDefault()})};validForm=()=>{let t=!0;return this.inputsList.forEach(e=>{let o=e.closest(L);this.validInput(e)?this.updateFormMsg(o,"",!1):(t=!1,this.updateFormMsg(o,E.common,!0))}),t};validInput=(t,e=!0)=>(this.checkIfHasValue(t),t.hasAttribute("data-required")&&!this.validateRequired(t)?(e&&this.addInputError(t,E.common),!1):t.hasAttribute("data-email")&&!this.validateEmail(t)?(e&&this.addInputError(t,E.email),!1):(this.removeInputError(t),!0));checkIfHasValue=t=>{let e=t.closest(L);e&&(t.value?e.classList.add(q):e.classList.remove(q))};updateFormMsg=(t,e,o=!1)=>{let n=t?.querySelector(z);n&&(n.textContent=e,o?n.classList.add(m):n.classList.remove(m))};addInputError=(t,e=E.common)=>{let o=t.closest(L);this.updateFormMsg(o,e,!0),o?.classList.add(m)};removeInputError=t=>{let e=t.closest(L);this.updateFormMsg(e,"",!1),e?.classList.remove(m)};validateRequired=t=>t.type==="checkbox"||t.type==="radio"?t.checked:!!t.value;validateEmail=t=>t.value?/^(([^<>а-яА-Я()[\]\\.,;:\s@"]+(\.[^<>()а-яА-Я[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$|^(([^<>a-zA-Z()[\]\\.,;:\s@"]+(\.[^<>()a-zA-Z[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([а-яА-Я\-0-9]+\.)+[а-яА-Я]{2,}))$/.test(String(t.value).toLowerCase()):!0};G();var $=".sf-link",P=()=>{document.addEventListener("click",s=>{let t=s.target.closest($);if(!t)return;let{sfA:e,prevent:o}=t.dataset;if(!(parseInt(o)>0)&&e)try{document.location.href=atob(e)}catch(n){console.error("Failed to decode Base64 string:",n)}})};P();var Z=()=>{let s=GLightbox({selector:"[data-glightbox]"})};Z();var K=".js-lang",A="active",X=()=>{let s=document.querySelectorAll(K),t=window.innerWidth;s.forEach(e=>{Y(e)}),window.addEventListener("resize",h(()=>{t!=window.innerWidth&&(t=window.innerWidth,s.forEach(e=>e.classList.remove(A)))},100))};function Y(s){s.addEventListener("click",()=>{s.classList.toggle(A,!s.classList.contains(A))})}X();var J=".js-modal",Q=".js-modal__close",k=".js-modal__content",tt=".js-modal__open",W=".js-modal__btn",et="js-modal__btn",st=".modal__title",ot=".modal__body",rt="iframe",nt="no-scroll",it="active",lt=()=>{let s=document.querySelector(J);if(!s)return;let t=document.querySelectorAll(tt),e=s?.querySelector(Q),o=s?.querySelector(k),n=s?.querySelector(ot);e?.addEventListener("click",()=>{a(!1),c()}),s?.addEventListener("click",r=>{r.target.closest(k)||(a(!1),c())}),t.forEach(r=>{r.addEventListener("click",()=>i(r))});function i(r){c(),l(r),a(!0)}function l(r){let d=r.dataset.modalTitle,y=r.dataset.modalUrl,O=s?.querySelector(st),f=document.createElement("iframe");O&&d&&(O.textContent=d),f&&y&&(f.src=y);let R=r.parentNode?.querySelector(W);if(R){let M=R.cloneNode(!0);M.classList.add(et),n.insertAdjacentElement("beforebegin",M)}n?.appendChild(f)}function c(){let r=s.querySelector(W);r&&r.remove();let d=n.querySelector(rt);d&&d.remove()}function a(r){s?.classList.toggle(it,r),document.body.classList.toggle(nt,r)}};lt();})();
