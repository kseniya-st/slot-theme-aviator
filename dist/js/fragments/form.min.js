"use strict";
(()=>{var c=".js-form",d=".js-form__response",a=".js-form__label",m=".js-form__label-error",n="has-value",i="has-error",o={email:"Enter a valid value",common:"Enter a valid value",form:"Error"},h=()=>{document.querySelectorAll(c).forEach(e=>new l(e))},l=class{constructor(e){this.form=e,this.inputsList=this.form.querySelectorAll("input, textarea"),this.responseEl=this.form.querySelector(d),this.init()}init=()=>{this.initValidation()};initValidation=()=>{this.inputsList.forEach(e=>{e.addEventListener("input",()=>{this.validInput(e)})}),this.form.addEventListener("submit",e=>{this.validForm()||e.preventDefault()})};validForm=()=>{let e=!0;return this.inputsList.forEach(t=>{let r=t.closest(a);this.validInput(t)?this.updateFormMsg(r,"",!1):(e=!1,this.updateFormMsg(r,o.common,!0))}),e};validInput=(e,t=!0)=>(this.checkIfHasValue(e),e.hasAttribute("data-required")&&!this.validateRequired(e)?(t&&this.addInputError(e,o.common),!1):e.hasAttribute("data-email")&&!this.validateEmail(e)?(t&&this.addInputError(e,o.email),!1):(this.removeInputError(e),!0));checkIfHasValue=e=>{let t=e.closest(a);t&&(e.value?t.classList.add(n):t.classList.remove(n))};updateFormMsg=(e,t,r=!1)=>{let s=e?.querySelector(m);s&&(s.textContent=t,r?s.classList.add(i):s.classList.remove(i))};addInputError=(e,t=o.common)=>{let r=e.closest(a);this.updateFormMsg(r,t,!0),r?.classList.add(i)};removeInputError=e=>{let t=e.closest(a);this.updateFormMsg(t,"",!1),t?.classList.remove(i)};validateRequired=e=>e.type==="checkbox"||e.type==="radio"?e.checked:!!e.value;validateEmail=e=>e.value?/^(([^<>а-яА-Я()[\]\\.,;:\s@"]+(\.[^<>()а-яА-Я[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$|^(([^<>a-zA-Z()[\]\\.,;:\s@"]+(\.[^<>()a-zA-Z[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([а-яА-Я\-0-9]+\.)+[а-яА-Я]{2,}))$/.test(String(e.value).toLowerCase()):!0};h();})();
